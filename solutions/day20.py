# Read pattern up to next group start/end
# Split pattern by |
# For each part
# Append part to list
# In dict, map index to indices of children
